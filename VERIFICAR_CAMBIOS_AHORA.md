# üöÄ INICIO R√ÅPIDO - Verificar Cambios de Roles (5 min)\n\n## üìã Pasos para Verificar Todo Funciona\n\n### 1Ô∏è‚É£ Backend Listo? (1 min)\n\n```bash\n# Terminal 1 - Backend\ncd BackendFastAPI\npython -m uvicorn main:app --reload\n\n# Deber√≠as ver:\n# INFO:     Uvicorn running on http://127.0.0.1:8000\n```\n\n### 2Ô∏è‚É£ Frontend Listo? (1 min)\n\n```bash\n# Terminal 2 - Frontend\ncd Frontend/sistemaapp-frontend\nnpm run dev\n\n# Deber√≠as ver:\n# Local:        http://localhost:5173/\n```\n\n### 3Ô∏è‚É£ Verifica Cambios Implementados (3 min)\n\n#### A) Verificar en C√≥digo (opcional)\n```bash\n# Terminal 3 - Verifica los archivos fueron modificados\n\n# Backend - auth.py\ngrep -n \"tecnico_productivo\" BackendFastAPI/routes/auth.py\n# Deber√≠as ver 2 l√≠neas (l√≠nea 70-71)\n\n# Frontend - RegisterView.vue\ngrep -n \"tecnico_productivo\" Frontend/sistemaapp-frontend/src/views/RegisterView.vue\n# Deber√≠as ver 2 l√≠neas (l√≠nea 116-117)\n\n# Backend - layers.py\ngrep -n 'tipo == \"productiva\"' BackendFastAPI/routes/layers.py\n# Deber√≠as ver 1 l√≠nea\n```\n\n#### B) Verificar en Navegador (recomendado)\n1. Ve a http://localhost:5173/register\n2. Mira el dropdown de \"Qu√© tipo de usuario eres?\"\n3. Deber√≠as ver 3 opciones:\n   - [ ] T√©cnico Productivo **‚Üê NUEVA**\n   - [ ] T√©cnico Social **‚Üê NUEVA**\n   - [ ] Facilitador\n\n---\n\n## ‚úÖ Test en 2 Minutos\n\n### Opci√≥n A: Frontend (Visual)\n\n```\n1. http://localhost:5173/register\n   ‚Üì\n2. Nombre: \"Juan Productivo\"\n   Email: \"juan@test.com\"\n   Contrase√±a: \"123456\"\n   Rol: T√©cnico Productivo ‚Üê SELECCIONA ESTE\n   ‚úì Acepto t√©rminos\n   ‚Üì\n3. Click \"Crear Cuenta\"\n   ‚Üì\n4. Deber√≠as ver: \"¬°Cuenta creada exitosamente! Bienvenido Juan Productivo\"\n   ‚Üì\n5. Espera 2s ‚Üí Te redirige a /login\n   ‚Üì\n   ‚úÖ √âXITO - Rol se registr√≥ correctamente\n```\n\n### Opci√≥n B: Backend (Tests)\n\n```bash\n# Test 1: Rol por defecto\ncurl -X POST http://localhost:8000/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nombre\": \"Test User\",\n    \"email\": \"test1@test.com\",\n    \"password\": \"123456\"\n  }'\n\n# ESPERADO en response:\n# \"rol\": \"tecnico_productivo\"\n# ‚úÖ √âxito si ves esto\n```\n\n```bash\n# Test 2: Rol espec√≠fico (social)\ncurl -X POST http://localhost:8000/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nombre\": \"Mar√≠a Social\",\n    \"email\": \"maria@test.com\",\n    \"password\": \"123456\",\n    \"rol\": \"tecnico_social\"\n  }'\n\n# ESPERADO en response:\n# \"rol\": \"tecnico_social\"\n# ‚úÖ √âxito si ves esto\n```\n\n```bash\n# Test 3: Rol inv√°lido (debe rechazar)\ncurl -X POST http://localhost:8000/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nombre\": \"Invalid\",\n    \"email\": \"invalid@test.com\",\n    \"password\": \"123456\",\n    \"rol\": \"superadmin\"\n  }'\n\n# ESPERADO en response (error):\n# \"detail\": \"Rol inv√°lido. Permite: tecnico_productivo, tecnico_social, facilitador, territorial, admin\"\n# Status: 400\n# ‚úÖ √âxito si ves esto\n```\n\n---\n\n## üìä Cambios Implementados\n\n```\n‚úÖ 1. Rol por defecto: tecnico ‚Üí tecnico_productivo\n‚úÖ 2. Nuevos roles en validaci√≥n\n‚úÖ 3. Frontend muestra ambas opciones\n‚úÖ 4. Facilitador filtra con .like(\"tecnico%\")\n‚úÖ 5. Capas productiva/social filtradas por rol\n‚úÖ 6. Jerarqu√≠a en /auth/users\n```\n\n---\n\n## üìÅ Qu√© Se Modific√≥\n\n### Archivos Cambiados (3)\n1. **BackendFastAPI/routes/auth.py**\n   - L√≠nea 70-71: Rol por defecto y validaci√≥n\n   - L√≠nea 158-210: Filtrado jer√°rquico\n\n2. **Frontend/src/views/RegisterView.vue**\n   - L√≠nea 116-118: Opciones de rol\n\n3. **BackendFastAPI/routes/layers.py**\n   - L√≠nea 89-106: Filtrado por tipo de t√©cnico\n\n### Archivos NO Modificados (otros)\n- models.py (sin cambios)\n- MapaView.vue (sin cambios, ya ten√≠a la estructura)\n\n---\n\n## üÜò Si Algo No Funciona\n\n### Error: \"Rol inv√°lido\"\n**Causa:** El backend no tiene los cambios\n**Soluci√≥n:** \n```bash\ngrep \"tecnico_productivo\" BackendFastAPI/routes/auth.py\n# Si no ves nada, los cambios no se aplicaron\n```\n\n### Error: Frontend no muestra nuevas opciones\n**Causa:** Cach√© del navegador\n**Soluci√≥n:** \n```\n1. Ctrl + Shift + Delete (limpiar cach√©)\n2. Recarga la p√°gina (F5)\n3. Ve a http://localhost:5173/register\n```\n\n### Error: \"Token inv√°lido\" al filtrar capas\n**Causa:** Backend no est√° corriendo\n**Soluci√≥n:** \n```bash\ncd BackendFastAPI\npython -m uvicorn main:app --reload\n```\n\n---\n\n## üìö Documentaci√≥n Disponible\n\nPara m√°s detalles, lee:\n- `RESUMEN_EJECUTIVO_ROLES.md` - Visi√≥n general completa\n- `CAMBIOS_ROLES_TECNICOS.md` - Detalles t√©cnicos de cambios\n- `GUIA_RAPIDA_ROLES_TECNICOS.md` - M√°s tests y ejemplos\n- `DIAGRAMAS_ROLES_TECNICOS.md` - Flujos visuales\n\n---\n\n## ‚ú® Resumen R√°pido\n\n| Aspecto | Estado |\n|--------|--------|\n| Rol por defecto | ‚úÖ `tecnico_productivo` |\n| Nuevas opciones de rol | ‚úÖ Si (Productivo + Social) |\n| Validaci√≥n backend | ‚úÖ Si (ambos tipos) |\n| Filtrado de capas | ‚úÖ Si (especializado) |\n| Jerarqu√≠a | ‚úÖ Si (4 niveles) |\n| Tests disponibles | ‚úÖ Si (6+ casos) |\n| Documentaci√≥n | ‚úÖ Si (4 archivos) |\n\n---\n\n**Creado:** 13 de noviembre de 2025\n**Status:** ‚úÖ Listo para verificar\n**Tiempo estimado:** 5 minutos\n